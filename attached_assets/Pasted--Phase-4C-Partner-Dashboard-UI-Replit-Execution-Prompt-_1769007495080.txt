
ğŸ”’ Phase 4C â€” Partner Dashboard UI (Replit Execution Prompt)

CONTEXT (READ CAREFULLY â€” NON-NEGOTIABLE)

You are implementing Phase 4C â€” WebWaka Partner Dashboard UI.

This phase MUST comply with the WebWaka Ecosystem Constitution v1.5+ and the Universal Package Installability Enforcement Rule.

ğŸš¨ GitHub-based dependency installation is PERMANENTLY PROHIBITED.
ğŸš¨ SSH-based installs MUST NOT be attempted.

All canonical control packages are now published to the npm registry under the @webwaka/* scope and MUST be installed from npm only.

If you attempt to install any dependency from GitHub (HTTPS or SSH), that is a constitutional violation.

â¸»

ğŸ”‘ ABSOLUTE INSTALLATION RULE (HARD LOCK)

ONLY THIS IS ALLOWED:

npm install @webwaka/<package>

THE FOLLOWING ARE FORBIDDEN FOREVER:

npm install github:changerplanet/...
npm install https://github.com/...
npm install git@github.com:...

If any GitHub install is attempted â†’ STOP IMMEDIATELY AND REPORT.

â¸»

ğŸ¯ OBJECTIVE

Implement the Partner Dashboard UI as a pure declarative consumer of canonical control packages.

The UI:
	â€¢	âŒ Must NOT contain control logic
	â€¢	âŒ Must NOT define permissions, entitlements, or feature flags
	â€¢	âŒ Must NOT resolve access locally
	â€¢	âœ… Must ONLY consume canonical control engines
	â€¢	âœ… Must be deterministic
	â€¢	âœ… Must be Nigeria-first (â‚¦ only)
	â€¢	âœ… Must build and deploy cleanly

â¸»

ğŸ“¦ REQUIRED CANONICAL DEPENDENCIES (npm ONLY)

Install exactly the following packages from npm:

npm install \
  @webwaka/core-dashboard-control \
  @webwaka/core-permissions \
  @webwaka/core-entitlements \
  @webwaka/core-feature-flags \
  @webwaka/core-branding \
  @webwaka/suite-partner-dashboard-control

ğŸš« Do NOT install any GitHub URLs
ğŸš« Do NOT substitute package names
ğŸš« Do NOT vendor code locally

â¸»

ğŸ§± ARCHITECTURAL REQUIREMENTS (MANDATORY)

1ï¸âƒ£ Single Control Consumer Pattern

Create one and only one file:

src/lib/control-consumer.ts

This file:
	â€¢	Is the ONLY place that imports @webwaka/* control packages
	â€¢	Re-exports resolved data for the UI
	â€¢	Contains NO business logic

ğŸš« No other file may import control packages.

â¸»

2ï¸âƒ£ Server-Side Resolution ONLY
	â€¢	All calls to:
	â€¢	resolveDashboard
	â€¢	generateDashboardSnapshot
	â€¢	verifyDashboardSnapshot
	â€¢	MUST happen server-side (Next.js server components)

Client components:
	â€¢	Receive pre-resolved data only
	â€¢	Render based on .visible flags
	â€¢	Perform zero access checks

â¸»

3ï¸âƒ£ Determinism (REQUIRED)
	â€¢	No Date.now()
	â€¢	No Math.random()
	â€¢	All evaluation times must be explicit
	â€¢	Same input â†’ same output (prove with tests)

â¸»

4ï¸âƒ£ Nigeria-First Enforcement
	â€¢	Currency display: â‚¦ (NGN) ONLY
	â€¢	$, USD, EUR, GBP are forbidden
	â€¢	Add tests that fail if non-â‚¦ currency appears

â¸»

5ï¸âƒ£ CI / Build Integrity
	â€¢	npm test MUST fail loudly on error
	â€¢	npm run build MUST pass
	â€¢	No masked commands (|| true, echo "skip")

â¸»

ğŸ§ª REQUIRED TEST PROOF

You MUST include tests proving:
	â€¢	Dashboard visibility changes when control inputs change
	â€¢	Determinism (10Ã— identical evaluations)
	â€¢	No UI file imports control packages except control-consumer.ts
	â€¢	Snapshot integrity verification
	â€¢	Nigeria-first currency enforcement

â¸»

â›” HARD STOP CONDITIONS

â›” If npm tries to use SSH
â›” If any GitHub URL is used
â›” If control logic appears in UI
â›” If more than one control consumer exists

â†’ STOP AND REPORT IMMEDIATELY

â¸»

âœ… COMPLETION CRITERIA

You may declare completion ONLY when:
	â€¢	All dependencies install via npm registry
	â€¢	Build passes
	â€¢	Tests pass
	â€¢	UI is a pure consumer
	â€¢	No GitHub installs attempted

â¸»

ACKNOWLEDGEMENT FORMAT (REQUIRED)

Reply only with:

â€œPhase 4C acknowledged. Proceeding using npm registry packages only and following all constitutional constraints.â€

Then execute.

â¸»