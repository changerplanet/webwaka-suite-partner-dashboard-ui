
ğŸ”“ Phase 4C â€” Partner & Tenant Dashboards (Replit Execution Prompt)

CONTEXT (READ CAREFULLY)

You are executing Phase 4C of the WebWaka platform.

This phase is UI-only and must strictly follow the WebWaka Ecosystem Constitution v1.5+.

âš ï¸ Critical platform update already completed
All canonical control packages are now:
	â€¢	âœ… Public
	â€¢	âœ… HTTPS-installable (NO SSH)
	â€¢	âœ… Include pre-built dist/ artifacts
	â€¢	âœ… Verified installable in Replit, Vercel, and CI

ğŸš« SSH-based installs are constitutionally forbidden.
ğŸš« Local control logic is forbidden.

â¸»

TARGET REPOSITORY (IMMUTABLE)

Repository:
changerplanet/webwaka-suite-partner-dashboard-ui

Platform:
ğŸ‘‰ Replit

This repository already exists and must be used as-is.

â¸»

ğŸš¨ HARD CONSTRAINTS (NON-NEGOTIABLE)

You MUST NOT:
	â€¢	âŒ Add or reimplement control logic locally
	â€¢	âŒ Add permissions, entitlements, roles, or feature flags in UI
	â€¢	âŒ Use SSH-based GitHub installs
	â€¢	âŒ Bypass canonical control packages
	â€¢	âŒ Add demo, fake, or placeholder business logic
	â€¢	âŒ Proceed if dependency installation fails

If any blocker occurs â†’ STOP and REPORT

â¸»

ğŸ“¦ CANONICAL DEPENDENCIES (MANDATORY)

Install dependencies via HTTPS only:

npm install https://github.com/changerplanet/webwaka-core-dashboard-control.git
npm install https://github.com/changerplanet/webwaka-suite-partner-dashboard-control.git

If either fails:
â›” STOP immediately
â›” Report exact error output
â›” Do NOT proceed

â¸»

ğŸ§  ARCHITECTURE RULES (MANDATORY)

1ï¸âƒ£ Single Control Consumer Pattern

Create or ensure existence of:

src/lib/control-consumer.ts

This file must be the ONLY place that imports:
	â€¢	webwaka-core-dashboard-control
	â€¢	webwaka-suite-partner-dashboard-control

No other file may import control packages directly.

â¸»

2ï¸âƒ£ Server-Side Resolution Only

All dashboard resolution MUST occur server-side:
	â€¢	Use resolveDashboard() / suite equivalent
	â€¢	Use generateDashboardSnapshot() server-side only
	â€¢	Pass resolved data into client components as props

Client components:
	â€¢	âŒ MUST NOT import control packages
	â€¢	âŒ MUST NOT resolve dashboards
	â€¢	âŒ MUST NOT hash, snapshot, or evaluate

â¸»

3ï¸âƒ£ Pure Declarative UI

UI components:
	â€¢	Render only what they are given
	â€¢	May filter by .visible === true
	â€¢	MUST NOT check permissions, entitlements, roles, or flags

Example (allowed):

sections.filter(s => s.visible)

Example (forbidden):

if (user.role === 'admin')
if (hasPermission('x'))
if (featureFlags.enabled)


â¸»

4ï¸âƒ£ Determinism & Integrity
	â€¢	Use explicit evaluationTime in all contexts
	â€¢	âŒ No Date.now()
	â€¢	âŒ No Math.random() (even cosmetic)
	â€¢	Snapshot checksums MUST come from canonical control packages

â¸»

5ï¸âƒ£ Build & CI Integrity (MANDATORY)

Remove any masking such as:

npm test || echo "skipped"

Required:

npm test
npm run build

Both MUST pass.

â¸»

ğŸ” REQUIRED VERIFICATION BEFORE COMMIT

Before pushing:
	â€¢	âœ… npm install succeeds (HTTPS only)
	â€¢	âœ… npm run build passes
	â€¢	âœ… npm test passes
	â€¢	âœ… dist/ exists inside installed control packages
	â€¢	âœ… Only control-consumer.ts imports control logic
	â€¢	âœ… No local /control directories exist
	â€¢	âœ… UI contains no business logic

â¸»

ğŸ“Œ FINAL OUTPUT REQUIREMENTS

Your final response must include:
	1.	âœ… Confirmation of successful dependency installation
	2.	âœ… Confirmation build passes
	3.	âœ… Confirmation tests pass
	4.	âœ… Confirmation no local control logic exists
	5.	âœ… Confirmation single consumer pattern enforced

â¸»

â›” HARD STOP

After completing Phase 4C work:

â›” STOP
â›” Do NOT proceed to Phase 4D
â›” Await explicit authorization

â¸»

ACKNOWLEDGEMENT FORMAT (REQUIRED)

Reply only with:

â€œPhase 4C acknowledged. Proceeding on Replit with HTTPS-installed canonical control packages.â€

Then execute exactly as instructed.